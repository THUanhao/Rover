## AHRS(Attitude and Heading Reference System)航行姿态参考系统
AHRS由加速度计，罗盘和陀螺仪构成，在Ardupilot中能够为飞行器提供YAW(航向),ROLL(横滚)和PITCH(侧翻). 这些信息为Pixhawk的无人车或无人机提供了
信息支持和航行数据. 在AHRS中，陀螺仪决定了其动态因素，而磁场对其静态影响因素较大，因为其静态校准过程中的精度取决于对磁场的测量精度.据查阅到的
资料，磁场和重力场越正交，航行姿态测量效果越好.这也就是说航线误差角会随着维度的提高增大误差

## IMU(Inertial Measurement Unit)惯性测量单元
IMU由三个单轴的加速度计和三个单轴的陀螺仪组成. 加速度计可以检测物体在载体坐标系统中独立三轴的加速度信号，陀螺仪检测载体相对于导航坐标系统的角
速度，测量物体在三维空间中的角速度和加速度，并以此计算出物体的姿态. 一般安装在重心上

## Reference
假设IMU的陀螺和加速度计的测量是没有任何误差的，那么通过陀螺则可以精确的测量物体的姿态。通过加速度计可以二次积分得出位移，实现完整的6DOF,
也就是说带着一台这种理论型的IMU在宇宙任何位置运动，我们都可以知道他当前的姿态和相对位移.

## Reference-Advantage/Disadvantage
AHRS所用到的传感器通常成本很低，使用中会产生较大的噪声，如果没有磁场和重力场来修正三轴陀螺仪的话，在短时间内被测量物体的实际航行姿态和实际相比较就会产生较大的不同.而IMU实际上也是这样的。因为没有绝对精确的传感器，只有相对精确的传感器，IMU的陀螺仪用的是光纤陀螺或者机械陀螺。这种陀螺的成本很高，精度相对MEMS陀螺也很高。精度高不代表准确，IMU的姿态精度参数通常是一小时飘多少度，比如xbow的低端的有一小时3度的。。而用加速度计积分做位置的话，AHRS是不现实的（1分钟就能飘出几十米。而且是成二次方的速度递增）。AHRS通常要结合GPS和气压计做位置 。利用三轴地磁解耦和三轴加速度计，受外力加速度影响很大，在运动/振动等环境中，输出方向角误差较大,此外地磁传感器有缺点，它的绝对参照物是地磁场的磁力线,地磁的特点是使用范围大，但强度较低，约零点几高斯，非常容易受到其它磁体的干扰， 如果融合了Z轴陀螺仪的瞬时角度，就可以使系统数据更加稳定。加速度测量的是重力方向，在无外力加速度的情况下，能准确输出ROLL/PITCH两轴姿态角度 并且此角度不会有累积误差，在更长的时间尺度内都是准确的。但是加速度传感器测角度的缺点是加速度传感器实际上是用MEMS技术检测惯性力造成的微小形变，而惯性力与重力本质是一样的,所以加速度计就不会区分重力加速度与外力加速度，当系统在三维空间做变速运动时，它的输出就不正确了  
陀螺仪输出角速度，是瞬时量，角速度在姿态平衡上是不能直接使用， 需要角速度与时间积分计算角度，得到的角度变化量与初始角度相加，就得到目标角度，其中积分时间Dt越小，输出角度越精确,但陀螺仪的原理决定了它的测量基准是自身，并没有系统外的绝对参照物，加上Dt是不可能无限小,所以积分的累积误差会随着时间流逝迅速增加，最终导致输出角度与实际不符，所以陀螺仪只能工作在相对较短的时间尺度内所以在没有其它参照物的基础上，要得到较为真实的姿态角，就要利用加权算法扬长避短，结合两者的优点，摈弃其各自缺点,设计算法在短时间尺度内增加陀螺仪的权值，在更长时间尺度内增加加速度权值，这样系统输出角度就接近真实值
