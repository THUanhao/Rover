## 硬件设备种类
在Ardupilot的传感器库种，支持多种设备厂商生产的产品，会在本文中提供支持硬件列表的网址以便后续查找
http://ardupilot.org/copter/docs/common-optional-hardware.html
这个网址中包含Ardupilot所支持的所有的匹配硬件种类和详细名称，这些设备为可拓展设备，除Pixhawk自带的一些硬件外（诸如罗盘，高度计等），可自行添加的设备

## Ardupilot支持的相关协议
1. I2C
I2C的特性则为，一根主线可以附带许多的支线。因为这种协议是一种简单的协议，所以并不适用于长距离通信且数据传输速度较低。只需要4个PIN口，分别是VCC， GND， SDA SCL
2. SPI
SPI的特性则为，一根主线一根支线，其数据传输速度为20MHz以上，在数据速度上远远优于I2C协议。通信速度的提升带来了问题就是其通信距离更短，只有10cm左右。且其要求至少5个PIN口（GND， VCC， SCLK， Master-Out-Slave-In，Master-In-Slave-Out）+ 每个支线需要选择1个支线PIN口
3. Serial/UART
一主线一支线，与上面两个通信协议相比，UART的通信距离更远且速度相对较快，至少需要4个PIN口和2个可选择的PIN口
4. CAN bus with UAVCAN
CAN的特性为，可以有许多主线，任何节点都可以在需要时启动数据传输，基于数据包的远距离协议，虽然其速度快但是只有50%的总线比特率在有许多数据往来时会严重影响其速度和传输质量。至少需要3个PIN口（GND、CAN HI、CAN LO），点到点拓扑结构，但是不建议使用星形或树桩拓扑且总线每端都需要终止

## Ardupilot 数据处理流程
1. 来自传感器的原始数据被收集，然后转换成标准单元，接下来就会保存在驱动程序的缓冲区中
2. 车辆代码的主线程底气运行，并通过驾驶员前段的方法访问可用的最新数据。为了计算最新的姿态估计，AHRS/EKF将从传感器驱动前段提取最新的加速度计，陀螺仪和罗盘信息
3. 使用I2C或者SPI协议的驱动必须在后台线程中运行，以便于传感器的高速通信不会影响主循环的效率，但对于使用UART的驱动，在主线程中运行时安全的，因为底层的串行驱动程序本身在后台手机数据并包含一个缓冲区
